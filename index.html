<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Random Image Quiz</title>
  <style>
    body{margin:0;font-family:sans-serif;background:#0f172a;color:#f1f5f9;display:flex;align-items:center;justify-content:center;padding:20px}
    .app{max-width:900px;width:100%;background:#1e293b;padding:20px;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,.4)}
    h1{margin-top:0}
    button{background:#6366f1;color:white;border:none;padding:8px 12px;border-radius:8px;margin:4px;cursor:pointer}
    button.ghost{background:#334155}
    .image-wrap{background:#0f172a;padding:10px;border-radius:8px;text-align:center;min-height:300px;display:flex;align-items:center;justify-content:center}
    .image-wrap img{max-width:100%;max-height:300px;object-fit:contain}
    .caption{margin-top:10px;padding:8px;border-radius:8px;background:#334155;text-align:center;min-height:40px}
    .caption.revealed{background:#22c55e;font-weight:bold}
    .toolbar{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap}
    .status{margin-top:10px;display:flex;justify-content:space-between;font-size:14px}
  </style>
</head>
<body>
  <div class="app">
    <h1>Random Image Quiz</h1>
    <div>
      <div class="image-wrap" id="imageWrap">No images yet</div>
      <div class="caption" id="caption">â€”</div>
      <div class="toolbar">
        <button id="startBtn">Start Quiz</button>
        <button id="startOverBtn" class="ghost">Start Over</button>
        <button id="revealBtn">Reveal</button>
        <button id="nextBtn" class="ghost">Next</button>
        <button id="correctBtn" class="ghost">Correct</button>
        <button id="wrongBtn" class="ghost">Wrong</button>
      </div>
      <div class="status">
        <div id="progress">0 / 0</div>
        <div id="score">Score: 0 / 0 (0%)</div>
        <div id="timer">00:00</div>
      </div>
    </div>
  </div>

<script>
/* ðŸ”½ Define your image list here */
const imageList = [
  {src: "images/cat.jpg", caption: "Cat"},
  {src: "images/dog.jpg", caption: "Dog"},
  {src: "images/bird.png", caption: "Bird"}
];

let items=[], order=[], currentIndex=0, revealed=false;
let correct=0, attempted=0;
let timerInterval=null, startTime=null;

const imageWrap=document.getElementById("imageWrap");
const captionEl=document.getElementById("caption");
const revealBtn=document.getElementById("revealBtn");
const nextBtn=document.getElementById("nextBtn");
const correctBtn=document.getElementById("correctBtn");
const wrongBtn=document.getElementById("wrongBtn");
const progressEl=document.getElementById("progress");
const scoreEl=document.getElementById("score");
const timerEl=document.getElementById("timer");

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}}

function resetGame(){
  order=[];currentIndex=0;revealed=false;
  correct=0;attempted=0;
  stopTimer();
  timerEl.textContent="00:00";
  captionEl.textContent="â€”";captionEl.classList.remove("revealed");
  imageWrap.textContent="No images yet";
  progressEl.textContent="0 / 0";
  scoreEl.textContent="Score: 0 / 0 (0%)";
}

function render(){
  if(order.length===0) return;
  const idx=order[currentIndex], it=items[idx];
  imageWrap.innerHTML=`<img src="${it.src}" alt="">`;
  hideAnswer();
  progressEl.textContent=`${currentIndex+1} / ${order.length}`;
}

function hideAnswer(){revealed=false;captionEl.textContent="â€”";captionEl.classList.remove("revealed")}
function showAnswer(){const idx=order[currentIndex], it=items[idx];captionEl.textContent=it.caption;captionEl.classList.add("revealed");revealed=true}

function updateScore(){const pct=attempted?Math.round(correct/attempted*100):0;scoreEl.textContent=`Score: ${correct} / ${attempted} (${pct}%)`}

function nextImage(){currentIndex++;if(currentIndex>=order.length){currentIndex=0;shuffle(order);}render()}

function startTimer(){startTime=Date.now();timerInterval=setInterval(()=>{const diff=Math.floor((Date.now()-startTime)/1000);const m=String(Math.floor(diff/60)).padStart(2,"0");const s=String(diff%60).padStart(2,"0");timerEl.textContent=`${m}:${s}`;},1000)}
function stopTimer(){clearInterval(timerInterval);timerInterval=null}

document.getElementById("startBtn").onclick=()=>{
  resetGame();
  items=[...imageList]; // load predefined list
  order=items.map((_,i)=>i);shuffle(order);currentIndex=0;
  render();startTimer();
};

document.getElementById("startOverBtn").onclick=()=>resetGame();
revealBtn.onclick=()=>revealed?hideAnswer():showAnswer();
nextBtn.onclick=()=>nextImage();
correctBtn.onclick=()=>{if(!revealed)return;correct++;attempted++;updateScore();nextImage()};
wrongBtn.onclick=()=>{if(!revealed)return;attempted++;updateScore();nextImage()};

resetGame();
</script>
</body>
</html>
